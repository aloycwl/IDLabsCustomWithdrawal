<html>
  <head>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.34/dist/web3.min.js"></script>
    <script src="abi.js"></script>
  </head>
  <body>
    <button onclick="f1()">Testing Claim</button>
  </body>
  <script>
    web3 = new Web3(
      new Web3.providers.HttpProvider(
        'https://data-seed-prebsc-1-s1.binance.org:8545/'
      )
    );

    const privateKey =
      '0xe4b361482bc1ca422e2bb27032c589f5caa7adf47ed6a84cb23f641597af5f2d';
    const contractAddress = '0xA73759B9f135cF55Ec8A27F20D24742C0990ccCA';
    const usdtAddresss = '0x29aC29C9fa2c2cC0138217625E260754860e0019';
    const account = web3.eth.accounts.privateKeyToAccount(privateKey);
    const contract = new web3.eth.Contract(abi, contractAddress);

    async function f1() {
      const gasEstimate = Math.floor(
        (await contract.methods.withdrawInterest(3).estimateGas({
          from: account.address,
        })) * 1.2
      );
      console.log(gasEstimate);

      const signedTx = await account.signTransaction({
        to: contractAddress,
        data: contract.methods.withdrawInterest(3).encodeABI(),
        gas: gasEstimate,
        value: '0x00',
        from: account.address,
      });

      console.log(signedTx.rawTransaction);

      web3.eth
        .sendSignedTransaction(signedTx.rawTransaction)
        .on('transactionHash', (hash) => {
          console.log('Transaction Hash:', hash);
        })
        .on('error', (error) => {
          console.error('Transaction Error:', error);
        });
    }
  </script>
</html>
